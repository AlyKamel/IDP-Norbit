version: '3.1'
intents:
- affirm
- bot_challenge
- deny
- goodbye
- greet
- inform
- order_tv
- restart
- stop
- skip
responses:
  utter_greet:
  - text: Hey!
  - text: Hello!
  - text: Hi!
  utter_did_that_help:
  - text: Did that help you?
  utter_goodbye:
  - text: Bye
  utter_iamabot:
  - text: I am a bot, powered by Rasa.
    image: "https://st3.depositphotos.com/8950810/17657/v/380/depositphotos_176577870-stock-illustration-cute-smiling-funny-robot-chat.jpg?forcejpeg=true"
  utter_please_rephrase:
  - text: I'm sorry, I didn't quite understand that. Could you rephrase?
  utter_default:
  - text: I'm sorry, I didn't quite understand that. Could you rephrase?
  utter_confirm_tv:
  - text: Ok, a TV
  utter_ask_order_tv_form_tv_brand:
  - text: What brand?
  utter_ask_order_tv_form_tv_price:
  - custom: 
      blocks:
      - type: section
        text:
          text: "Choose the price range:"
          type: plain_text
        accessory:
          type: static_select
          placeholder:
            type: plain_text
            text: "Select price range:"
          options:
            - value: "500$"
              text:
                text: "up to 500$"
                type: plain_text
            - value: "1000$"
              text:
                text: "up to 1000$"
                type: plain_text
    channel: "slack"
  - text: What price?
  utter_ask_order_tv_form_tv_size:
  - text: What screen size?
  utter_skip_slot:
  - text: Ok. Will skip this question.
  # utter_order_tv_info:
  # - text: Looking for a {tv_brand} TV of price {tv_price}...
  utter_restart:
  - text: Ok. Chat history has been reset.
  utter_end_form:
  - text: Ended the form. What else could I assist you with?
entities:
- tv_brand
- tv_price
- tv_size
slots:
  tv_brand:
    type: text
    mappings:
    - type: from_entity
      entity: tv_brand
  tv_price:
    type: text
    mappings:
    - type: from_entity
      entity: tv_price
  tv_size:
    type: text
    mappings:
    - type: from_entity
      entity: tv_size
forms:
  order_tv_form:
    required_slots:
    - tv_brand
    - tv_price
    - tv_size
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
actions:
- utter_end_form
- utter_goodbye
- utter_greet
- utter_please_rephrase
- action_hello_world
- action_find_product
- action_order_summary
- validate_order_tv_form
- action_validate_slot_mappings
- action_reset_all_slots